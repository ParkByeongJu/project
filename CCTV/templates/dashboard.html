<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/webLib/css/layout.css">
    <title>Dashboard</title>
    <style>
        /* Add your CSS styles here if needed */
    </style>
</head>
<body>
    <h1>날짜, 나이 범위 및 성별 선택</h1>
    <label for="startDatetime">시작 날짜 및 시간:</label>
    <input type="datetime-local" id="startDatetime" name="startDatetime" class="form-control"
        required oninvalid="this.setCustomValidity('시작 날짜와 시간을 선택해주세요.')" oninput="this.setCustomValidity('')">
    
        <br>
    <label for="endDatetime">끝나는 날짜 및 시간:</label>
    <input type="datetime-local" id "endDatetime" name="endDatetime" class="form-control"
        required oninvalid="this.setCustomValidity('끝나는 날짜와 시간을 선택해주세요.')" oninput="this.setCustomValidity('')">

    <p><h4>날짜 및 시간 범위:</h4> <span id="rangeDisplay"></span></p>

    <h4><label>나이 범위:</label></h4>
    <div>
        <label for="minAge">최소 나이:</label>
        <select id="minAge" name="minAge" class="form-control">
            <option value="(0, 2)">0 - 2세</option>
            <option value="(4, 6)">4 - 6세</option>
            <option value="(8, 12)">8 - 12세</option>
            <option value="(15, 20)">15 - 20세</option>
            <option value="(25, 32)">25 - 32세</option>
            <option value="(38, 43)">38 - 43세</option>
            <option value="(48, 53)">48 - 53세</option>
            <option value="(60, 100)">60 - 100세</option>
        </select>
    </div>
    <div>
        <label for="maxAge">최대 나이:</label>
        <select id="maxAge" name="maxAge" class="form-control">
            <option value="(0, 2)">0 - 2세</option>
            <option value="(4, 6)">4 - 6세</option>
            <option value="(8, 12)">8 - 12세</option>
            <option value="(15, 20)">15 - 20세</option>
            <option value="(25, 32)">25 - 32세</option>
            <option value="(38, 43)">38 - 43세</option>
            <option value="(48, 53)">48 - 53세</option>
            <option value="(60, 100)">60 - 100세</option>
        </select>
    </div>

    <br><br>

    <h4><label>성별 선택:</label></h4>
    <div>
        <input type="radio" id="genderAll" name="gender" value="all">
        <label for="genderAll">전체</label>
    </div>
    <div>
        <input type="radio" id="genderFemale" name="gender" value="female">
        <label for="genderFemale">여성</label>
    </div>
    <div>
        <input type="radio" id="genderMale" name="gender" value="male">
        <label for="genderMale">남성</label>
    </div>

    <script>
        const startDatetimeInput = document.getElementById('startDatetime');
        const endDatetimeInput = document.getElementById('endDatetime');
        const minAgeInput = document.getElementById('minAge');
        const maxAgeInput = document.getElementById('maxAge');
        const rangeDisplay = document.getElementById('rangeDisplay');

        startDatetimeInput.addEventListener('change', updateRangeDisplay);
        endDatetimeInput.addEventListener('change', updateRangeDisplay);
        minAgeInput.addEventListener('change', updateRangeDisplay);
        maxAgeInput.addEventListener('change', updateRangeDisplay);

        function updateRangeDisplay() {
            const startDatetime = startDatetimeInput.value.replace('T', ' ');
            const endDatetime = endDatetimeInput.value.replace('T', ' ');
            const minAge = minAgeInput.value;
            const maxAge = maxAgeInput.value;

            const ageRange = minAge && maxAge ? `${minAge} - ${maxAge}` : '전체';
            const selectedGender = document.querySelector('input[name="gender"]:checked');

            if (startDatetime && endDatetime) {
                rangeDisplay.textContent = `${startDatetime} ~ ${endDatetime}, 나이 범위: ${ageRange}, 성별: ${selectedGender ? selectedGender.value : '전체'}`;
            } else {
                rangeDisplay.textContent = '';
            }
        }
    </script>
</body>
</html>
